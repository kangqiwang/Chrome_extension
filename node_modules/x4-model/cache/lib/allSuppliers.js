const CacheStore = require('./cacheStore')

class AllSuppliers extends CacheStore {

    constructor(config) {
        super(config, "ALLSUPPLIERS")
    }

    setSupplier(country, data) {
        this.set(country, "DATA", JSON.stringify(data))
    }

    setBarcodedSupplier(country, data) {
        this.set(country, "BARCODED", JSON.stringify(data))
    }
    

    getSupplier(country, next) {
        this.get(country, "DATA", (err, data) => {            
            if(err) {
                next(err)
            } else {
                next(null, JSON.parse(data))
            }   
        })
    }

    getBarcoded(country, next) {
        this.get(country, "BARCODED", (err, data) => {            
            if(err) {
                next(err)
            } else {
                next(null, JSON.parse(data))
            }   
        })
    }

}

module.exports = AllSuppliers
