const Base = require('../lib/mongo/base');
const mongodb = require('mongodb');

class Distribution extends Base {
    constructor(config) {
		super(config, 'distribution');
	}

    setDistributionLock(payload, next) {
		let updatePayload = {
			query: {
				country: payload.country
			},
			update: {
				$set: {
                    lockDistributeButtonUntil: payload.lockTime,
                    lastTimeDistributed: payload.lastTime
				}
			}
        };

		this.update(updatePayload, next);
	}

}

module.exports = Distribution