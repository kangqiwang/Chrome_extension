const should = require('should');
const expect = require('chai').expect;
const moment = require('moment');
const UserModel = require('../index.js').model.user;
const config = {
    db: "sm",
    host: "127.0.0.1",
    port: 27017
};

describe('#Mongo Ping Test', function () {

    let user;

    beforeEach(() => {
        user = new UserModel(config);
    });

    it('should return a null error if mongodb is available: ', (done) => {
        user.ping((err) => {
            expect(err).to.equal(null);
            done();
        });
    });

    it('should return a NO_CONNECTION error if mongodb is NOT available: ', (done) => {
        user.ping((err) => {
            expect(err).to.equal('NO_CONNECTION');
            done();
        });
    });

});
