const should = require('should');
const SupplierModel = require('../index.js').model.supplier
const config = {
                    db: "sm",
                    host: "127.0.0.1",
                    port: 27017
                }

describe('Supplier Test', function() {

        // it('should return UK suppliers as array', function(done) {
        //         var Supplier = new SupplierModel(config, {
        //             country: "uk"
        //         })

        //         Supplier.find({ enabled: true }, (err, result) => {
        //             should(err).be.equal(null)
        //             result.should.have.property('total')
        //             result.should.have.property('records')
        //             result.total.should.be.above(0)
        //             result.records.length.should.be.equal(result.total)
        //             done();
        //         })

        // })

        // it('should return US suppliers as object', function(done) {
        //         config.createIdKey = true
        //         var Supplier = new SupplierModel(config, {
        //             country: "uk"
        //         })

        //         Supplier.find({ enabled: true }, (err, result) => {
        //             should(err).be.equal(null)
        //             result.should.have.property('total')
        //             result.should.have.property('records')
        //             result.total.should.be.above(0)
        //             Object.keys(result.records).length.should.be.equal(result.total)
        //             done();
        //         })

        // })

        //  it('should return suppliers Lookup Table', function(done) {
        //         config.createIdKey = true
        //         var Supplier = new SupplierModel(config, {
        //             country: "uk"
        //         })

        //         Supplier.generateLookup((err, result) => {
        //             should(err).be.equal(null)
        //             console.log(Object.keys(result).length)
        //             Object.keys(result).length.should.be.above(0)
        //             done();
        //         })

        // })

        //  it('should only return suppliers that are not in error', function(done) {
        //         config.createIdKey = true
        //         var Supplier = new SupplierModel(config, {
        //             country: "us"
        //         })

        //         Supplier.findSelection({}, (err, result) => {
        //             should(err).be.equal(null)
        //             Object.keys(result).length.should.be.above(0)
        //             console.log(result)
        //             done();
        //         })

        // })

        // it('should add a supplier to the database', function(done) {
        //     config.createIdKey = true
        //     var Supplier = new SupplierModel(config, {
        //         country: "us"
        //     })

        //     Supplier.addSupplier({
        //         name: '999999',
        //         domain: '569821321'
        //     }, (err, result) => {
        //         should(err).be.equal(null)
        //         done();
        //     })

        // })

        // it('should delete a supplier from the database', function(done) {
        //     config.createIdKey = true
        //     var Supplier = new SupplierModel(config, {
        //         country: "us"
        //     })

        //     Supplier.deleteSupplier({
        //         id: "59d75596c8cec317931ff989"
        //     }, (err, result) => {
        //         should(err).be.equal(null)
        //         done();
        //     })
        // })


        // it('should reset the error status of a suppler', function(done) {
        //     config.createIdKey = true
        //     var Supplier= new SupplierModel(config, {
        //         country: "us"
        //     })

        //     Supplier.resetError({
        //         id: "58593450d2b2122cab550e5e"
        //     }, (err, result) => {
        //         should(err).be.equal(null)
        //         done();
        //     })
        // })

        // it('should setr supplier to live', function(done) {
        //     config.createIdKey = true
        //     var Supplier= new SupplierModel(config, {
        //         country: "us"
        //     })

        //     Supplier.makeSupplierLive({
        //         id: "58593450d2b2122cab550e8a"
        //     }, (err, result) => {
        //         should(err).be.equal(null)
        //         done();
        //     })
        // })

        // it('should get the ps schedule counts', function(done) {
        //     config.createIdKey = true
        //     var Supplier= new SupplierModel(config, {
        //         country: "us"
        //     })

        //     Supplier.getPsScheduleCounts((err, result) => {
        //         should(err).be.equal(null)
        //         console.log(result)
        //         done()
        //     })
        // })

        it('should get the ps schedule day', function(done) {
            config.createIdKey = true
            var Supplier= new SupplierModel(config, {
                country: "us"
            })

            Supplier.getPsScheduleDay(4,(err, result) => {
                should(err).be.equal(null)
                console.log(result)
                done()
            })
        })



})
