    var should = require('should');
    var Structure = require('../lib/structure.js')
    const cache = require('../lib/cache')

    describe('supplierTest', function () {

        describe('Search Page', function () {

            var payload = {
                "pageType": "search",
                "url": "https://www.tintoyarcade.com/toys-for-toddlers",
                "html": cache.load("https://www.tintoyarcade.com/toys-for-toddlers")
            }
            var x = 30
            it('should return' + x + ' number of products', function () {

                const searchPage = Structure(payload)
                //    console.log(searchPage)
                searchPage.length.should.equal(x)


                var first = searchPage.shift()
                first.name.should.be.equal("Music Box Teaching Clock Red Schoolhouse");
                first.price.should.be.equal("25.48");
                first.url.should.be.equal("https://www.tintoyarcade.com/music-box-teaching-clock-1968.html");
                first.image.should.be.equal("https://www.tintoyarcade.com/image/cache/data/product/main/tta1305_teaching_clock__95543-228x338.jpg")
                first.country.should.be.equal('us');

                var last = searchPage.pop()

                last.name.should.be.equal("Cody the Cow Wood Thumb Puppet");
                last.price.should.be.equal("5.98");
                last.url.should.be.equal("https://www.tintoyarcade.com/cody-the-cow-wood-thumb-puppet.html");
                last.image.should.be.equal("https://www.tintoyarcade.com/image/cache/data/product/main/tta2950_cody_cow_thumb_puppet_2__62354-228x338.jpg")
                last.country.should.be.equal('us');


            });

        });

        describe('In stock Page', function () {

            var payload = {
                "pageType": "product",
                "url": "https://www.tintoyarcade.com/cars-peg-puzzle-colorful-wooden.html",
                "html": cache.load("https://www.tintoyarcade.com/cars-peg-puzzle-colorful-wooden.html")
            }

            it('should be true when product is in stock', function () {

                const inStockPage = Structure(payload)
                // console.log(inStockPage)
                inStockPage.name.should.be.equal("Cars Peg Puzzle Colorful Wooden");
                inStockPage.price.should.be.equal("8.98");
                inStockPage.url.should.be.equal(payload.url);
                inStockPage.inStock.should.be.equal(true);
                should(inStockPage.stockLevel).be.equal(null);
                inStockPage.inStock.should.be.equal(true);
                inStockPage.image.should.be.equal('https://www.tintoyarcade.com/image/cache/data/product/main/tta2443_transportation_peg_wood_puzzle__54736-400x500.jpg');
                inStockPage.country.should.be.equal('us');
            });

        });

    });