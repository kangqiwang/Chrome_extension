const should = require('should');
const ProductModel = require('../index.js').model.product
const config = require('../config').es;

describe('Product Reverse Search ASIN Test', function () {

    it('should get data using the ASIN', function (done) {

        var Product = new ProductModel(config, 'us');
        let payload = {
            country: 'us',
            type: 'ASIN',
            data: ['B00GDEKUCU', 'B01DIXD9DA']
        }

        Product.getReverseSearchProducts(payload, (err, result) => {
            should(err).be.equal(null)
            result.records.length.should.be.equal(2);
            done();
        })

    })

    it('should get data using the NAME', function (done) {

        var Product = new ProductModel(config, 'us');
        let payload = {
            country: 'us',
            type: 'NAME',
            data: ['Super Why! Why Writer Gray Adult T-Shirt']
        }

        Product.getReverseSearchProducts(payload, (err, result) => {            
            should(err).be.equal(null)
            result.records.length.should.be.equal(10);
            done();
        })

    })

})