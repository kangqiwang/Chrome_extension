    var should = require('should');
    var Structure = require('../lib/structure.js')
    const cache = require('../lib/cache')

    describe('supplierTest', function () {

        describe('Search Page', function () {

            var payload = {
                "pageType": "search",
                "url": "https://www.365games.co.uk/xbox-one-games",
                "html": cache.load("https://www.365games.co.uk/xbox-one-games")
            }
            var x = 24
            it('should return' + x + ' number of products', function () {
                const searchPage = Structure(payload)
                console.log(searchPage)
               // console.log(payload)
                searchPage.length.should.equal(x)


                var first = searchPage.shift()
                first.name.should.be.equal("Little Live Pets - Wrapple - Styles May Vary");
                first.price.should.be.equal("14.99");
                first.url.should.be.equal("https://www.bestbuy.com/site/little-live-pets-wrapple-styles-may-vary/6288564.p?skuId=6288564");
                first.image.should.be.equal("https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6288/6288564_sd.jpg;maxHeight=200;maxWidth=300")
                first.country.should.be.equal('us');

                var last = searchPage.pop()

                last.name.should.be.equal("LEGO - Minecraft The Crafting Box 2.0");
                last.price.should.be.equal("47.99");
                last.url.should.be.equal("https://www.bestbuy.com/site/lego-minecraft-the-crafting-box-2-0/6203186.p?skuId=6203186");
                last.image.should.be.equal("https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6203/6203186_sd.jpg;maxHeight=200;maxWidth=300")
                last.country.should.be.equal('us');


            });

        });

    });