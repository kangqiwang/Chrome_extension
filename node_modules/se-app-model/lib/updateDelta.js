module.exports = (payload, record, next) => {
    var price = parseFloat(payload.price)
    if(isNaN(price)) {
        next('PRICE_ERROR')
    } else {
        var timestamp = new Date().toISOString()
        record.updated = timestamp
        record.delta.push({
            timestamp,
            price 
        })
        next(null, record)
    }
}